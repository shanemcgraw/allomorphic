<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<link rel="shortcut icon" href="images/favicon.ico" type="image/x-icon" />

		<link href='https://fonts.googleapis.com/css?family=IM+Fell+English:400,400italic' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Sacramento' rel='stylesheet' type='text/css'>
		<link href='https://fonts.googleapis.com/css?family=Crimson+Text' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" type="text/css" href="style.css">
		<title>Allomorphic</title>
	</head>
	<body>
		<div id="Content">
			<h1 id="hello">Allomorphic</h1>
			<div class="requestData">
				<div id="instructions">
					<h2>
						Enter three of your favorite films
					</h2>
					<p>
						For best results, enter their full names (e.g. "The Lord of the Rings: The Return of the King")
					</p>
				</div>

				<div id="feedback"></div>

				<div id="loading"></div>

				<form id="getMovieData">
					<div id="movieInput">
						<input type="text" id="movie" value="Title">
						<input type="text" id="year" value="Year (best guess)">
					</div>
					<div id="theButton">
						<input type="button" id="adder" value="Add">
					</div>
				</form>
			</div>


			<div id="filmTable">
				<div id="posterSection">

				</div>
				<div id="movieFacts">

				</div>
			</div>

			<div id="posterInstructions">
		
			</div>

			<div id = "output">
				<script type="text/javascript">
					//Making sure we don't give away the suprise before the proper time!
					document.getElementById('output').style.display = "none";
				</script>
				<h2>
					Your Story Selection:
				</h2>
				<p id="selection"></p>
				<button id="anotherStory">Give me another</button>
			</div>

		</div>

		<div id="option">
		</div>



		<script type="text/javascript" src="stories.js"></script>
		<script type="text/javascript" src="anduril.js"></script>
		<script type="text/javascript" src="warp.js"></script>
		<script type="text/javascript" src="assignAge.js"></script>
		<script type="text/javascript" src="storySelect.js"></script>


		<script type="text/javascript">


			var elButton = get("adder");
			var elForm = get("getMovieData");
			var elMovie = get("movie");
			var elYear = get("year");
			var mData = get("movieData");
			var tableData = get("filmTable");
			var content = get("Content");
			var another = get("anotherStory");
			var selection = get("selection");

			// this is to make sure that we are free to generate a story based on 
			// the movie input
			/*
			data.genStory = true;

			//Here's a variable to keep track of the story displayed on the page
			data.shortStory = 0;

			//Here's a variable to keep track of the age-appropriateness of the story
			data.dark = true;
*/
			//Event handling! Listen close:

			//For a click to the right element on the form, call postMovie and update the page

			elForm.addEventListener('click', function(e){
																				 postMovie(e);
																			 }, false);

			//for a click to the content, get the film info and post underneath the displayed poster

			content.addEventListener('click', function(e){
																					getFilmInfo(e);
																				}, false);

			//if the user wants another story, give it to them through the 'butThatsAnotherStory' function

			another.addEventListener('click', function(e){
																					butThatsAnotherStory(e);
																				}, false);
		</script>
	</body>
</html>
<!DOCTYPE html>
<html>
<head>
	<title>Launchsite</title>
	<style type="text/css">
	body{
	background-color: 406891

	}
	h1{
		margin: 100 10 10 200
	}
	table{
		border: solid 1px black;
	}

	</style>
</head>
<body>

		<h1>Allomorphic</h1>
		<h5>
			 <a href="https://en.wikipedia.org/wiki/Allomorph">Allomorph<a/>: a unit of meaning that varies in sound without changing meaning
		</h5>


		<!--<script src="../getMovieData.js"></script>-->
		<div class="requestData">
			<h2>
				Enter three of your favorite films
			</h2>

			<h5>
				in any order
			</h5>

			<div id="feedback">
			</div>

			<form id="getMovieData">

				<input type="text" id="movie" value="Movie #1">
				<input type="text" id="year" value="Year">
				<input type="button" id="adder" value="Add">
					
			</form>

		</div>

		<h2 id = "submission">
			Plot twist!
		</h2>

		<p>
			<ul id="movieData">
			</ul>
		</p>


		<script type="text/javascript">

			//Helper functions

			function get(x){
				return document.getElementById(x);
			}

			function tagger(tag) {
				return document.getElementsByTagName(tag);
			}

			function classer(classy) {
				return document.getElementsByClassName(classy);
			}

			function create(el) {
				return document.createElement(el);
			}

			function tNode(text) {
				return document.createTextNode(text);
			}

			var elButton = get("adder");
			var elForm = get("getMovieData");
			var elMovie = get("movie");
			var elYear = get("year");
			var mData = get("movieData");
			var numberOfMovies = tagger('movieData');
			var movieCounter = 0;

			// New function "postMovie" will listen for a click on the "Add" button
			// and take both the film title & year released to search the oMDB api -
			// making a call to "oMDB". After receiving the data, it posts the content 
			// as an unordered list item. It will also update the "movieCounter" to check
			//that the user entered 3 movies

			function postMovie(e){
				//Get the 'target'; the element that the user clicks on
				var target = e.target;
				
				//Create counter so the user sees error after 3 movie inputs

				if(elButton.id === "generator"){
					
				}
				
				else if(target.type === "button"){

					movieCounter++;
					
					var movieTitle = elMovie.value;
					var year = elYear.value;
					var movieConcat = "\"" + movieTitle + "\" " + "(" + year + ")";

					//Add the freshly-submitted movie info to the list using DOM-manipulation
					var newElm = create('li');
					var text = tNode(movieConcat);
					newElm.className = "movieData";
					newElm.appendChild(text);
					var insert = get('movieData');
					insert.appendChild(newElm);
					

					var insert = get('movieData');
					insert.appendChild(newElm);

					if(movieCounter < 3){
						elMovie.value = "Movie #" + (movieCounter+1).toString();

					}
					else if(movieCounter >= 3){
						elMovie.value = '';
						elYear.value = '';
						elButton.type;
						elButton.value = "Generate";
						elButton.id = "generator";
					}

						elYear.innerHTML = "Year";

				}
			};

			elForm.addEventListener('click', function(e){
				postMovie(e);
			});




		</script>


		<!--
		<p id="moviePlot">

		Plot twist!

		</p>

		<p id = "genre">
			
		</p>

		<div id="poster">
		<p>

		Poster content

		</p>
		</div>




-->
</body>
</html>
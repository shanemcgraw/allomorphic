<!DOCTYPE html>
<html>
<head>
	<title>Add</title>
</head>
<body>

<form>
	<p>Title:</p><input id="title" value=""></input>
	<p>Author:</p><input id="author"></input>
	<p>Year Published:</p><input id="year"></input>
	<p>Plot:</p><textarea id="plot"></textarea>
	<p>Genres:</p><input id="genres"></input>
	<p>Link:</p><input id="link"></input>
</form>
<br>
<button id="submit">SUBMIT</button>
<br>
<br>
<textarea id="newStoryContent">
</textarea>

<script type="text/javascript">

	function get(x){
		return document.getElementById(x);
	}


	var display = get("newStoryContent");
	var submit = get("submit");
	var titles = get("title");
	var author = get("author");
	var year = get("year");
	var plot = get("plot");
	var genres = get("genres");
	var link = get("link");


	//author, year, plot, genres, link

	function addEmIn(){

		var gVs = genres.value.split(",").map(function(x){return "\"" + x + "\"" }).join(",")

		function addContent(title, author, year, plot, genres, link){
			display.innerHTML += " {title:\""+title+"\",author:\""+author+"\",year:"+year+",plot:\""+plot+"\",genre:["+genres+"],link:\""+link+"\"},";
		};

		return addContent(titles.value, author.value, year.value, plot.value, gVs, link.value);

	}

	submit.addEventListener('click',addEmIn,false);



</script>


</body>
</html>